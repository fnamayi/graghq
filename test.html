<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Zone01 Profile - Test Suite</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background: #f5f5f5;
        }
        
        .test-section {
            background: white;
            margin: 20px 0;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .test-section h2 {
            color: #2196F3;
            border-bottom: 2px solid #2196F3;
            padding-bottom: 10px;
        }
        
        .test-item {
            margin: 15px 0;
            padding: 15px;
            border-left: 4px solid #ddd;
            background: #f9f9f9;
        }
        
        .test-item.pass {
            border-left-color: #4caf50;
            background: #e8f5e8;
        }
        
        .test-item.fail {
            border-left-color: #f44336;
            background: #ffebee;
        }
        
        .test-item.pending {
            border-left-color: #ff9800;
            background: #fff3e0;
        }
        
        .test-controls {
            margin: 20px 0;
            text-align: center;
        }
        
        .btn {
            background: #2196F3;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 4px;
            cursor: pointer;
            margin: 5px;
            text-decoration: none;
            display: inline-block;
        }
        
        .btn:hover {
            background: #1976D2;
        }
        
        .btn.secondary {
            background: #666;
        }
        
        .btn.danger {
            background: #f44336;
        }
        
        .status {
            font-weight: bold;
            padding: 5px 10px;
            border-radius: 4px;
            display: inline-block;
            margin-left: 10px;
        }
        
        .status.pass { background: #4caf50; color: white; }
        .status.fail { background: #f44336; color: white; }
        .status.pending { background: #ff9800; color: white; }
        
        .code {
            background: #f4f4f4;
            padding: 10px;
            border-radius: 4px;
            font-family: monospace;
            margin: 10px 0;
        }
        
        .requirements-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }
        
        .requirement-card {
            background: white;
            border: 1px solid #ddd;
            border-radius: 8px;
            padding: 15px;
        }
        
        .requirement-card h4 {
            margin-top: 0;
            color: #333;
        }
        
        .checklist {
            list-style: none;
            padding: 0;
        }
        
        .checklist li {
            margin: 8px 0;
            padding: 5px 0;
        }
        
        .checklist li:before {
            content: "‚òê ";
            color: #999;
            margin-right: 8px;
        }
        
        .checklist li.checked:before {
            content: "‚úÖ ";
            color: #4caf50;
        }
        
        .checklist li.failed:before {
            content: "‚ùå ";
            color: #f44336;
        }
    </style>
</head>
<body>
    <h1>üß™ Zone01 Profile - Test Suite</h1>
    <p>This page helps verify that all project requirements are met.</p>

    <div class="test-controls">
        <a href="index.html" class="btn">Open Main Application</a>
        <a href="graphiql.html" class="btn secondary">Open GraphiQL Explorer</a>
        <button class="btn" onclick="runAllTests()">Run All Tests</button>
        <button class="btn danger" onclick="testInvalidCredentials()">Test Invalid Login</button>
    </div>

    <div class="test-section">
        <h2>üìã Project Requirements Checklist</h2>
        <div class="requirements-grid">
            <div class="requirement-card">
                <h4>Authentication</h4>
                <ul class="checklist">
                    <li id="req-login">Login functionality with username/email + password</li>
                    <li id="req-invalid-error">Appropriate error for invalid credentials</li>
                    <li id="req-logout">Logout functionality</li>
                    <li id="req-jwt-inspection">JWT token inspection for user ID</li>
                </ul>
            </div>
            
            <div class="requirement-card">
                <h4>Profile Sections (3 Required)</h4>
                <ul class="checklist">
                    <li id="req-section1">Section 1: Basic user identification</li>
                    <li id="req-section2">Section 2: XP amount/level information</li>
                    <li id="req-section3">Section 3: Audit information</li>
                    <li id="req-data-accuracy">Data accuracy verified with GraphiQL</li>
                </ul>
            </div>
            
            <div class="requirement-card">
                <h4>Statistics Section (Required)</h4>
                <ul class="checklist">
                    <li id="req-stats-section">Fourth section for graphical statistics</li>
                    <li id="req-svg-charts">At least 2 different SVG charts</li>
                    <li id="req-chart-accuracy">Charts display accurate data</li>
                    <li id="req-chart-types">Different chart types (line, bar, pie, etc.)</li>
                </ul>
            </div>
            
            <div class="requirement-card">
                <h4>GraphQL Queries</h4>
                <ul class="checklist">
                    <li id="req-normal-queries">Normal queries (basic user info)</li>
                    <li id="req-nested-queries">Nested queries (user with relations)</li>
                    <li id="req-argument-queries">Queries with arguments (filtering, sorting)</li>
                    <li id="req-aggregate-queries">Aggregate queries (sums, counts)</li>
                </ul>
            </div>
            
            <div class="requirement-card">
                <h4>Hosting & Access</h4>
                <ul class="checklist">
                    <li id="req-hosting">Profile accessible from host domain</li>
                    <li id="req-http-server">Works with python3 -m http.server</li>
                    <li id="req-file-structure">Clean, organized file structure</li>
                    <li id="req-no-external-deps">No external dependencies (pure JS/SVG)</li>
                </ul>
            </div>
            
            <div class="requirement-card">
                <h4>Bonus Features</h4>
                <ul class="checklist">
                    <li id="bonus-additional-info">Additional information beyond 3 sections</li>
                    <li id="bonus-extra-charts">Additional charts beyond required 2</li>
                    <li id="bonus-custom-graphiql">Custom GraphiQL interface</li>
                    <li id="bonus-skills-section">Skills/achievements section</li>
                </ul>
            </div>
        </div>
    </div>

    <div class="test-section">
        <h2>üîß Manual Testing Instructions</h2>
        
        <div class="test-item pending">
            <h4>1. Test Invalid Credentials</h4>
            <p>Click the "Test Invalid Login" button above or manually enter wrong credentials.</p>
            <p><strong>Expected:</strong> Appropriate error message should be displayed.</p>
        </div>
        
        <div class="test-item pending">
            <h4>2. Test Valid Login</h4>
            <p>Enter your Zone01 credentials in the main application.</p>
            <p><strong>Expected:</strong> Should successfully log in and show profile dashboard.</p>
        </div>
        
        <div class="test-item pending">
            <h4>3. Verify Profile Sections</h4>
            <p>Check that the profile contains exactly 4 sections:</p>
            <ul>
                <li>User Information (login, name, ID, level)</li>
                <li>Experience Points (total XP, transactions, progress)</li>
                <li>Audit Information (given, received, ratio)</li>
                <li>Graphical Statistics (charts and visualizations)</li>
            </ul>
        </div>
        
        <div class="test-item pending">
            <h4>4. Verify Data Accuracy</h4>
            <p>Use the GraphiQL explorer to verify the data shown in the profile:</p>
            <ol>
                <li>Open GraphiQL explorer</li>
                <li>Set your JWT token</li>
                <li>Run queries to verify user info, XP, and audit data</li>
                <li>Compare results with profile display</li>
            </ol>
        </div>
        
        <div class="test-item pending">
            <h4>5. Test Charts</h4>
            <p>Verify that at least 2 different SVG charts are displayed:</p>
            <ul>
                <li>XP Progress Over Time (line chart)</li>
                <li>Audit Ratio Visualization (bar chart)</li>
                <li>Project Pass/Fail Ratio (pie chart)</li>
                <li>Skills Chart (bar chart - bonus)</li>
            </ul>
        </div>
        
        <div class="test-item pending">
            <h4>6. Test Logout</h4>
            <p>Click the logout button and verify:</p>
            <ul>
                <li>User is logged out successfully</li>
                <li>Redirected to login page</li>
                <li>Token is cleared from storage</li>
            </ul>
        </div>
    </div>

    <div class="test-section">
        <h2>üìä GraphQL Query Examples</h2>
        <p>These queries demonstrate the required query types:</p>
        
        <h4>Normal Query:</h4>
        <div class="code">
{
  user {
    id
    login
    firstName
    lastName
  }
}
        </div>
        
        <h4>Nested Query:</h4>
        <div class="code">
{
  user {
    id
    login
    transactions(limit: 5) {
      amount
      createdAt
      type
    }
  }
}
        </div>
        
        <h4>Query with Arguments:</h4>
        <div class="code">
{
  transaction(
    where: {
      type: {_eq: "xp"},
      userId: {_eq: 123}
    },
    order_by: {createdAt: desc},
    limit: 10
  ) {
    amount
    createdAt
    path
  }
}
        </div>
        
        <h4>Aggregate Query:</h4>
        <div class="code">
{
  transaction_aggregate(
    where: {
      type: {_eq: "xp"},
      userId: {_eq: 123}
    }
  ) {
    aggregate {
      sum {
        amount
      }
      count
    }
  }
}
        </div>
    </div>

    <div class="test-section">
        <h2>üöÄ Hosting Instructions</h2>
        <p>To test hosting with Python HTTP server:</p>
        <div class="code">
# Navigate to project directory
cd /path/to/graphql

# Start HTTP server
python3 -m http.server 8000

# Open in browser
http://localhost:8000
        </div>
        
        <p>The application should work without any external dependencies or build steps.</p>
    </div>

    <script>
        function runAllTests() {
            // This would run automated tests if implemented
            alert('Manual testing required. Please follow the instructions above.');
        }
        
        function testInvalidCredentials() {
            // Open main app with test parameters
            window.open('index.html?test=invalid', '_blank');
        }
        
        // Mark requirements as checked based on implementation
        document.addEventListener('DOMContentLoaded', () => {
            // These are automatically checked based on our implementation
            const implementedFeatures = [
                'req-login', 'req-invalid-error', 'req-logout', 'req-jwt-inspection',
                'req-section1', 'req-section2', 'req-section3',
                'req-stats-section', 'req-svg-charts', 'req-chart-types',
                'req-normal-queries', 'req-nested-queries', 'req-argument-queries', 'req-aggregate-queries',
                'req-http-server', 'req-file-structure', 'req-no-external-deps',
                'bonus-additional-info', 'bonus-extra-charts', 'bonus-custom-graphiql', 'bonus-skills-section'
            ];
            
            implementedFeatures.forEach(id => {
                const element = document.getElementById(id);
                if (element) {
                    element.classList.add('checked');
                }
            });
        });
    </script>
</body>
</html>
